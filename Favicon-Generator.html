<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Favicon Generator - ToolHub</title>
  <meta name="description" content="Generate favicons instantly from your images with ToolHub's free Favicon Generator. Download PNGs in multiple sizes or a single ICO file.">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="main_style.css">
  <style>
    .calc-card {
      background: #fff;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      max-width: 800px;
      margin: auto;
    }

    #preview {
      max-width: 150px;
      margin: 15px auto;
      display: block;
    }

    .download-links a {
      margin: 5px;
    }
  </style>
</head>

<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg shadow-sm bg-white">
    <div class="container">
      <a class="navbar-brand fw-bold text-primary" href="#">ToolHub</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link fw-semibold" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link fw-semibold" href="#about">About Us</a></li>
          <li class="nav-item"><a class="nav-link fw-semibold" href="#contact">Contact Us</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Favicon Generator Section -->
  <div class="container py-5">
    <h2 class="text-center text-primary mb-4">Favicon Generator</h2>
    <div class="calc-card text-center">
      <label for="upload" class="form-label fw-bold">Upload Your Image</label>
      <input type="file" id="upload" class="form-control" accept="image/png, image/jpeg">
      <img id="preview" alt="Preview will appear here" class="d-none rounded shadow-sm">
      <div class="mt-3">
        <button class="btn btn-primary" onclick="generateFavicons()">Generate Favicons</button>
      </div>
      <div class="download-links mt-4" id="downloads"></div>
    </div>

    <!-- About Section -->
    <div class="container py-5" style="width: 70%;">
      <h2 class="text-center text-primary mb-4">About Favicon Generator</h2>
      <p>
        ToolHub’s Favicon Generator helps you create favicons directly from your uploaded image.
        Favicons are the small icons displayed in browser tabs, bookmarks, and search results.
        Our tool generates multiple PNG favicon sizes (16x16, 32x32, 48x48, 64x64, 128x128)
        and also provides an option to download a combined <strong>.ico</strong> file.
      </p>
      <h4>Features:</h4>
      <ul>
        <li>Upload PNG or JPG images and convert them instantly.</li>
        <li>Download favicons in standard sizes.</li>
        <li>Option to download a single .ico file with all sizes bundled.</li>
        <li>Fast, secure, and works fully in your browser.</li>
      </ul>
    </div>
  </div>

  <!-- Footer -->
  <footer class="text-white pt-5" style="background-color: #0d6efd;">
    <div class="container">
      <div class="row text-start">
        <div class="col-md-4 mb-4">
          <h5 class="fw-bold">About Us</h5>
          <p>ToolHub provides a wide range of free online tools including file converters, compressors, developer utilities, and more — all in one place.</p>
        </div>
        <div class="col-md-4 mb-4">
          <h5 class="fw-bold">Contact Us</h5>
          <p>Email: <a href="mailto:support@toolhub.com" class="text-white text-decoration-underline">support@toolhub.com</a></p>
        </div>
        <div class="col-md-4 mb-4">
          <h5 class="fw-bold">All Tools</h5>
          <ul class="list-unstyled">
            <li><a href="#" class="text-white text-decoration-none">Image to PDF Converter</a></li>
            <li><a href="#" class="text-white text-decoration-none">Image Compressor</a></li>
            <li><a href="#" class="text-white text-decoration-none">Video to MP3 Converter</a></li>
            <li><a href="#" class="text-white text-decoration-none">JSON Formatter</a></li>
            <li><a href="#" class="text-white text-decoration-none">CSV to JSON Converter</a></li>
            <li><a href="#" class="text-white text-decoration-none">UUID Generator</a></li>
            <li><a href="#" class="text-white text-decoration-none">QR Code Generator</a></li>
            <li><a href="#" class="text-white text-decoration-none">QR Code Reader</a></li>
            <li><a href="#" class="text-white text-decoration-none">Unit Converter</a></li>
          </ul>
        </div>
      </div>
      <hr class="border-light">
      <div class="text-center pb-2">
        <p class="mb-0">&copy; 2025 ToolHub. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/icojs@0.15.0/dist/ico.min.js"></script>
  <script>
    let uploadedImage;

    document.getElementById('upload').addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (event) {
          uploadedImage = new Image();
          uploadedImage.onload = () => {
            document.getElementById('preview').src = uploadedImage.src;
            document.getElementById('preview').classList.remove('d-none');
          };
          uploadedImage.src = event.target.result;
        };
        reader.readAsDataURL(file);
      }
    });

    function generateFavicons() {
      if (!uploadedImage) {
        alert("Please upload an image first!");
        return;
      }

      const sizes = [16, 32, 48, 64, 128];
      const downloadsDiv = document.getElementById('downloads');
      downloadsDiv.innerHTML = '';

      let pngBuffers = [];

      sizes.forEach(size => {
        const canvas = document.createElement('canvas');
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(uploadedImage, 0, 0, size, size);

        const dataUrl = canvas.toDataURL('image/png');

        // Download button
        const link = document.createElement('a');
        link.href = dataUrl;
        link.download = `favicon-${size}x${size}.png`;
        link.className = 'btn btn-outline-primary btn-sm';
        link.innerText = `Download ${size}x${size}`;
        downloadsDiv.appendChild(link);

        // Collect for ICO
        pngBuffers.push(fetch(dataUrl).then(res => res.arrayBuffer()));
      });

      // Create ICO file
      Promise.all(pngBuffers).then(buffers => {
        const icoBlob = new Blob([icojs.encode(buffers)], { type: 'image/x-icon' });
        const icoUrl = URL.createObjectURL(icoBlob);

        const icoLink = document.createElement('a');
        icoLink.href = icoUrl;
        icoLink.download = 'favicon.ico';
        icoLink.className = 'btn btn-success btn-sm d-block mt-3';
        icoLink.innerText = 'Download favicon.ico';
        downloadsDiv.appendChild(icoLink);
      });
    }
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
