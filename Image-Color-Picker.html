<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Image Color Picker - ToolHub</title>
  <meta name="description" content="Upload an image and click to get HEX/RGB color codes.">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    body { background:#f8fafc; }
    .tool-card { background:#fff; padding:22px; border-radius:10px; box-shadow:0 6px 20px rgba(13,110,253,0.06); max-width:960px; margin:auto; }
    .small-muted { font-size:.92rem; color:#6c757d; }
    #canvasWrapper { text-align:center; margin:10px 0; }
    canvas { border:1px solid #ddd; border-radius:6px; max-width:100%; cursor:crosshair; }
    .color-display { display:flex; align-items:center; gap:10px; margin-top:10px; }
    .color-box { width:40px; height:40px; border:1px solid #ddd; border-radius:4px; }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg shadow-sm bg-white mb-4">
  <div class="container">
    <a class="navbar-brand fw-bold text-primary" href="#">ToolHub</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navMain">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link fw-semibold" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link fw-semibold" href="#about">About</a></li>
        <li class="nav-item"><a class="nav-link fw-semibold" href="#contact">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Main -->
<div class="container pb-5">
  <h2 class="text-center text-primary mb-4">Image Color Picker</h2>

  <div class="tool-card">
    <label class="form-label fw-bold">Upload Image</label>
    <input type="file" id="fileInput" accept="image/*" class="form-control mb-2">
    <div class="small-muted mb-3">Click anywhere on the uploaded image to get the color under the cursor in HEX and RGB.</div>

    <div id="canvasWrapper">
      <canvas id="imageCanvas"></canvas>
    </div>

    <div class="color-display">
      <div class="color-box" id="colorBox"></div>
      <div>
        <div>HEX: <span id="hexValue">#FFFFFF</span></div>
        <div>RGB: <span id="rgbValue">rgb(255, 255, 255)</span></div>
      </div>
      <button class="btn btn-outline-secondary btn-sm ms-auto" id="copyBtn" disabled>Copy HEX</button>
    </div>

    <button class="btn btn-outline-danger mt-3" id="clearBtn">Clear</button>
  </div>

  <!-- About -->
  <div id="about" class="mt-4" style="width:85%; margin:auto;">
    <h4 class="text-primary text-center mb-3">About this tool</h4>
    <p class="small-muted">
      Upload any image and click on it to pick colors. The tool provides the color in both HEX and RGB formats.
      You can copy the HEX code directly to your clipboard for use in design or development.
    </p>
  </div>
</div>

<!-- Footer -->
<footer class="text-white pt-5" style="background-color: #0d6efd;">
  <div class="container">
    <div class="row text-start">
      <div class="col-md-4 mb-4">
        <h5 class="fw-bold">About Us</h5>
        <p>ToolHub provides free online tools including converters, compressors, developer utilities, and more â€” all in one place.</p>
      </div>
      <div class="col-md-4 mb-4">
        <h5 class="fw-bold">Contact Us</h5>
        <p>Email: <a href="mailto:support@toolhub.com" class="text-white text-decoration-underline">support@toolhub.com</a></p>
      </div>
      <div class="col-md-4 mb-4">
        <h5 class="fw-bold">All Tools</h5>
        <ul class="list-unstyled">
          <li><a href="#" class="text-white text-decoration-none">Image Resizer</a></li>
          <li><a href="#" class="text-white text-decoration-none">Image Format Converter</a></li>
          <li><a href="#" class="text-white text-decoration-none">OCR / Image to Text</a></li>
        </ul>
      </div>
    </div>
    <hr class="border-light">
    <div class="text-center pb-2">
      <p class="mb-0">&copy; 2025 ToolHub. All rights reserved.</p>
    </div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  const fileInput = document.getElementById('fileInput');
  const canvas = document.getElementById('imageCanvas');
  const ctx = canvas.getContext('2d');
  const colorBox = document.getElementById('colorBox');
  const hexValue = document.getElementById('hexValue');
  const rgbValue = document.getElementById('rgbValue');
  const copyBtn = document.getElementById('copyBtn');
  const clearBtn = document.getElementById('clearBtn');

  let img = new Image();

  fileInput.addEventListener('change', () => {
    const file = fileInput.files[0];
    if (!file) return;
    const url = URL.createObjectURL(file);
    img.src = url;
    img.onload = () => {
      canvas.width = img.width;
      canvas.height = img.height;
      ctx.drawImage(img, 0, 0);
      copyBtn.disabled = false;
    };
  });

  canvas.addEventListener('click', (e) => {
    const rect = canvas.getBoundingClientRect();
    const x = Math.floor(e.clientX - rect.left);
    const y = Math.floor(e.clientY - rect.top);
    const pixel = ctx.getImageData(x, y, 1, 1).data;
    const rgb = `rgb(${pixel[0]}, ${pixel[1]}, ${pixel[2]})`;
    const hex = `#${((1 << 24) + (pixel[0] << 16) + (pixel[1] << 8) + pixel[2]).toString(16).slice(1).toUpperCase()}`;
    colorBox.style.backgroundColor = hex;
    hexValue.textContent = hex;
    rgbValue.textContent = rgb;
  });

  copyBtn.addEventListener('click', () => {
    navigator.clipboard.writeText(hexValue.textContent);
    alert('HEX code copied: ' + hexValue.textContent);
  });

  clearBtn.addEventListener('click', () => {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    colorBox.style.backgroundColor = '#FFFFFF';
    hexValue.textContent = '#FFFFFF';
    rgbValue.textContent = 'rgb(255, 255, 255)';
    fileInput.value = '';
    copyBtn.disabled = true;
  });
</script>
</body>
</html>
