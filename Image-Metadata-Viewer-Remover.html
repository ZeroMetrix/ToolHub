<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Photo Metadata Viewer/Remover - ToolHub</title>
  <meta name="description" content="View or strip EXIF metadata from photos in your browser.">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    body { background:#f8fafc; }
    .tool-card { background:#fff; padding:22px; border-radius:10px; box-shadow:0 6px 20px rgba(13,110,253,0.06); max-width:960px; margin:auto; }
    .small-muted { font-size:.92rem; color:#6c757d; }
    #metadataDisplay { max-height:300px; overflow:auto; white-space:pre-wrap; background:#f8f9fa; padding:10px; border-radius:6px; border:1px solid #ddd; }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg shadow-sm bg-white mb-4">
  <div class="container">
    <a class="navbar-brand fw-bold text-primary" href="#">ToolHub</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navMain">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link fw-semibold" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link fw-semibold" href="#about">About</a></li>
        <li class="nav-item"><a class="nav-link fw-semibold" href="#contact">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Main -->
<div class="container pb-5">
  <h2 class="text-center text-primary mb-4">Photo Metadata Viewer / Remover</h2>

  <div class="tool-card">
    <label class="form-label fw-bold">Upload Photo</label>
    <input type="file" id="fileInput" accept="image/*" class="form-control mb-2">
    <div class="small-muted mb-3">View EXIF metadata or remove it from your photo before downloading.</div>

    <div class="mt-3">
      <button class="btn btn-primary" id="viewMetadataBtn" disabled>View Metadata</button>
      <button class="btn btn-outline-danger" id="removeMetadataBtn" disabled>Remove Metadata & Download</button>
      <button class="btn btn-outline-secondary" id="clearBtn">Clear</button>
    </div>

    <div class="mt-3">
      <label class="form-label fw-bold">Metadata Preview</label>
      <div id="metadataDisplay" class="small-muted">Uploaded image metadata will appear here.</div>
    </div>
  </div>

  <!-- About -->
  <div id="about" class="mt-4" style="width:85%; margin:auto;">
    <h4 class="text-primary text-center mb-3">About this tool</h4>
    <p class="small-muted">
      This tool allows you to view the EXIF metadata of your photos directly in the browser. EXIF metadata can include camera settings, location, and other information. 
      You can also remove this metadata to protect your privacy and download a clean version of your photo.
    </p>
  </div>
</div>

<!-- Footer -->
<footer class="text-white pt-5" style="background-color: #0d6efd;">
  <div class="container">
    <div class="row text-start">
      <div class="col-md-4 mb-4">
        <h5 class="fw-bold">About Us</h5>
        <p>ToolHub provides free online tools including converters, compressors, developer utilities, and more â€” all in one place.</p>
      </div>
      <div class="col-md-4 mb-4">
        <h5 class="fw-bold">Contact Us</h5>
        <p>Email: <a href="mailto:support@toolhub.com" class="text-white text-decoration-underline">support@toolhub.com</a></p>
      </div>
      <div class="col-md-4 mb-4">
        <h5 class="fw-bold">All Tools</h5>
        <ul class="list-unstyled">
          <li><a href="#" class="text-white text-decoration-none">Image Resizer</a></li>
          <li><a href="#" class="text-white text-decoration-none">Image Format Converter</a></li>
          <li><a href="#" class="text-white text-decoration-none">OCR / Image to Text</a></li>
        </ul>
      </div>
    </div>
    <hr class="border-light">
    <div class="text-center pb-2">
      <p class="mb-0">&copy; 2025 ToolHub. All rights reserved.</p>
    </div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/exif-js/2.3.0/exif.min.js"></script>
<script>
  const fileInput = document.getElementById('fileInput');
  const viewMetadataBtn = document.getElementById('viewMetadataBtn');
  const removeMetadataBtn = document.getElementById('removeMetadataBtn');
  const clearBtn = document.getElementById('clearBtn');
  const metadataDisplay = document.getElementById('metadataDisplay');

  let uploadedFile = null;

  fileInput.addEventListener('change', () => {
    uploadedFile = fileInput.files[0];
    if (uploadedFile) {
      viewMetadataBtn.disabled = false;
      removeMetadataBtn.disabled = false;
      metadataDisplay.textContent = 'Click "View Metadata" to see EXIF data.';
    } else {
      resetState();
    }
  });

  viewMetadataBtn.addEventListener('click', () => {
    if (!uploadedFile) return;
    const reader = new FileReader();
    reader.onload = function(e) {
      const arrayBuffer = e.target.result;
      EXIF.getData({ arrayBuffer }, function() {
        const allMeta = EXIF.getAllTags(this);
        if (Object.keys(allMeta).length === 0) {
          metadataDisplay.textContent = 'No EXIF metadata found.';
        } else {
          metadataDisplay.textContent = JSON.stringify(allMeta, null, 2);
        }
      });
    };
    reader.readAsArrayBuffer(uploadedFile);
  });

  removeMetadataBtn.addEventListener('click', () => {
    if (!uploadedFile) return;
    const reader = new FileReader();
    reader.onload = function(e) {
      const img = new Image();
      img.src = e.target.result;
      img.onload = () => {
        const canvas = document.createElement('canvas');
        canvas.width = img.width;
        canvas.height = img.height;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(img, 0, 0);
        canvas.toBlob(blob => {
          const a = document.createElement('a');
          a.href = URL.createObjectURL(blob);
          a.download = uploadedFile.name.replace(/(\.\w+)$/, '_clean$1');
          document.body.appendChild(a);
          a.click();
          a.remove();
          metadataDisplay.textContent = 'Metadata removed. Download started.';
        }, uploadedFile.type || 'image/png');
      };
    };
    reader.readAsDataURL(uploadedFile);
  });

  clearBtn.addEventListener('click', resetState);

  function resetState() {
    fileInput.value = '';
    uploadedFile = null;
    viewMetadataBtn.disabled = true;
    removeMetadataBtn.disabled = true;
    metadataDisplay.textContent = 'Uploaded image metadata will appear here.';
  }
</script>
</body>
</html>
