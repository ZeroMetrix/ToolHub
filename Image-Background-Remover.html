<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Image Background Remover - ToolHub</title>
  <meta name="description" content="Automatically remove backgrounds from images. Client-side processing, preview and download removed-background images.">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    body { background:#f8fafc; }
    .tool-card { background:#fff; padding:22px; border-radius:10px; box-shadow:0 6px 20px rgba(13,110,253,0.06); max-width:960px; margin:auto; }
    .small-muted { font-size:.92rem; color:#6c757d; }
    .preview-img { max-width:100%; max-height:250px; border:1px solid #ddd; border-radius:6px; margin:5px; }
    .file-list { max-height:300px; overflow:auto; border:1px solid #dee2e6; border-radius:6px; padding:8px; }
    canvas { display:none; }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg shadow-sm bg-white mb-4">
  <div class="container">
    <a class="navbar-brand fw-bold text-primary" href="#">ToolHub</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navMain">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link fw-semibold" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link fw-semibold" href="#about">About</a></li>
        <li class="nav-item"><a class="nav-link fw-semibold" href="#contact">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Main -->
<div class="container pb-5">
  <h2 class="text-center text-primary mb-4">Image Background Remover</h2>

  <div class="tool-card">
    <label class="form-label fw-bold">Upload Image</label>
    <input type="file" id="fileInput" accept="image/*" class="form-control mb-2">
    <div class="small-muted mb-3">Upload a PNG, JPG, JPEG, WEBP, or BMP image. The tool will remove its background (works best for simple/contrasting backgrounds).</div>

    <div class="d-flex gap-2 mb-3">
      <button class="btn btn-primary" id="removeBtn">Remove Background</button>
      <button class="btn btn-outline-secondary" id="downloadBtn" disabled>Download Result</button>
      <button class="btn btn-outline-danger ms-auto" id="clearBtn">Clear</button>
    </div>

    <div class="mb-3">
      <label class="form-label fw-bold">Preview</label>
      <div class="file-list" id="previewList">
        <div class="small-muted">No image uploaded.</div>
      </div>
    </div>
  </div>

  <!-- About -->
  <div id="about" class="mt-4" style="width:85%; margin:auto;">
    <h4 class="text-primary text-center mb-3">About this tool</h4>
    <p class="small-muted">
      This tool removes backgrounds from images using client-side canvas processing. Works best for images with simple or high-contrast backgrounds. 
      For complex backgrounds or professional results, consider AI-based services.
    </p>
  </div>
</div>

<!-- Footer -->
<footer class="text-white pt-5" style="background-color: #0d6efd;">
  <div class="container">
    <div class="row text-start">
      <div class="col-md-4 mb-4">
        <h5 class="fw-bold">About Us</h5>
        <p>ToolHub provides free online tools including converters, compressors, developer utilities, and more â€” all in one place.</p>
      </div>
      <div class="col-md-4 mb-4">
        <h5 class="fw-bold">Contact Us</h5>
        <p>Email: <a href="mailto:support@toolhub.com" class="text-white text-decoration-underline">support@toolhub.com</a></p>
      </div>
      <div class="col-md-4 mb-4">
        <h5 class="fw-bold">All Tools</h5>
        <ul class="list-unstyled">
          <li><a href="#" class="text-white text-decoration-none">Image Format Converter</a></li>
          <li><a href="#" class="text-white text-decoration-none">Image Resizer</a></li>
          <li><a href="#" class="text-white text-decoration-none">PDF Tools</a></li>
        </ul>
      </div>
    </div>
    <hr class="border-light">
    <div class="text-center pb-2">
      <p class="mb-0">&copy; 2025 ToolHub. All rights reserved.</p>
    </div>
  </div>
</footer>

<script>
  const fileInput = document.getElementById('fileInput');
  const removeBtn = document.getElementById('removeBtn');
  const downloadBtn = document.getElementById('downloadBtn');
  const clearBtn = document.getElementById('clearBtn');
  const previewList = document.getElementById('previewList');

  let originalImage = null;
  let resultBlob = null;

  fileInput.addEventListener('change', () => {
    const file = fileInput.files[0];
    if (!file) return;
    originalImage = file;
    previewList.innerHTML = '';
    const img = document.createElement('img');
    img.className = 'preview-img';
    img.src = URL.createObjectURL(file);
    previewList.appendChild(img);
    downloadBtn.disabled = true;
    resultBlob = null;
  });

  clearBtn.addEventListener('click', () => {
    originalImage = null;
    resultBlob = null;
    fileInput.value = '';
    previewList.innerHTML = '<div class="small-muted">No image uploaded.</div>';
    downloadBtn.disabled = true;
  });

  removeBtn.addEventListener('click', async () => {
    if (!originalImage) return alert("Upload an image first.");
    const img = new Image();
    img.src = URL.createObjectURL(originalImage);
    img.onload = () => {
      const canvas = document.createElement('canvas');
      canvas.width = img.width;
      canvas.height = img.height;
      const ctx = canvas.getContext('2d');
      ctx.drawImage(img, 0, 0);

      const imageData = ctx.getImageData(0,0,canvas.width,canvas.height);
      const data = imageData.data;

      // simple background removal: remove white/near-white background
      for(let i=0; i<data.length; i+=4){
        const r = data[i], g = data[i+1], b = data[i+2];
        if(r>240 && g>240 && b>240){ // white-ish pixels
          data[i+3] = 0; // set alpha to 0
        }
      }

      ctx.putImageData(imageData,0,0);
      canvas.toBlob(blob=>{
        resultBlob = blob;
        downloadBtn.disabled = false;
        previewList.innerHTML = '';
        const previewImg = document.createElement('img');
        previewImg.className = 'preview-img';
        previewImg.src = URL.createObjectURL(blob);
        previewList.appendChild(previewImg);
      }, 'image/png');
    };
  });

  downloadBtn.addEventListener('click', () => {
    if (!resultBlob) return;
    const a = document.createElement('a');
    a.href = URL.createObjectURL(resultBlob);
    a.download = 'no-background.png';
    document.body.appendChild(a);
    a.click();
    a.remove();
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
